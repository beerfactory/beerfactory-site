{% extends "base.html" %}

{% block title %}{{ SITENAME }} | {{ category.display_name }}{% endblock title %}

{% block content %}
<section role="main">
    <header class="hidden-sm" id="brand">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h1>
                    <i class="icon-folder-open icon-large"></i>
                    &nbsp;{{ category.display_name }}
                    </h1>
                    {% if category.subtitle is defined %}
                        <h4>{{ category.subtitle }}</h4>
                    {% endif %}
                </div>
            </div>
        </div>
    </header>
</section>

{% include "social.html" %}

<section class="container" id="mainContent">
    <div class="row hidden-lg hidden-md">
        <div class="col-sm-12">
            <h1>
                <i class="icon-folder-open icon-large"></i>
                    &nbsp;{{ category.display_name }}
            </h1>
            {% if category.subtitle is defined %}
                <h6>{{ category.subtitle }}</h6>
            {% endif %}
        </div>
    </div>
    <div class="row">
        <div class="col-md-8 text-justify entry">
            {% for article in (articles_page.object_list if articles_page else articles) %}
                <article>
                <h4 class="entry-title"><a href="{{ SITEURL }}/{{ article.url }}">{{ article.title }}</a></h4>
                <p class="entry-info">
                    {{ article.date.strftime('%c') }}
                </p>
                {{ article.summary }}
                <p class="continue-reading">
                    <a href="{{ SITEURL }}/{{ article.url }}">Read more <i class="icon-chevron-right"></i></a>
                </p>
                </article>
            {% endfor %}
        </div>
        <aside class="col-md-3 col-md-offset-1 columns">
            {% include "recents.html" %}
            <h3>Tags</h3>
            {% include "tagcloud.html" %}
        </aside>
    </div>
    {% if articles_page and articles_paginator.num_pages > 1 %}
        <div class="row">
            <div class="col-md-8 columns text-justify">
                <div class="centered">
                    <ul class="pagination">
                        {% if articles_page.has_previous() %}
                            {% set num = articles_page.previous_page_number() %}
                            <li><a href="{{ SITEURL }}/{{ page_name }}{{ num if num > 1 else '' }}.html">&larr;</a></li>
                        {% else %}
                            <li class="disabled"><a href="#">&larr;</a></li>
                        {% endif %}
                        {% for num in range( 1, 1 + articles_paginator.num_pages ) %}
                            <li class="{{ 'active' if num == articles_page.number else '' }}"><a href="{{ SITEURL }}/{{ page_name }}{{ num if num > 1 else '' }}.html">{{ num }}</a></li>
                        {% endfor %}
                        {% if articles_page.has_next() %}
                                <li><a href="{{ SITEURL }}/{{ page_name }}{{ articles_page.next_page_number() }}.html">&rarr;</a></li>
                        {% else %}
                                <li class="disabled"><a href="#">&rarr;</a></li>
                    {% endif %}
                    </ul>
                </div>
            </div>
            <div class="col-md-3 text-justify">
            </div>
        </div>
    {% endif %}
</section>

{% endblock %}
